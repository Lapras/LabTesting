# sudo docker build -t system_health_check .
# sudo docker run -d -p 1024:1024 --rm -it system_health_check

FROM gcc:latest

COPY adminServer.c .
COPY flag2.txt .
COPY adminwatchdog.c .
COPY adminDumb.c .

ENV ADMINPASS=password
ENV ADMINFLAG=flag{0v3rfl0w}

RUN gcc adminServer.c -o adminServer
RUN gcc adminwatchdog.c -o adminwatchdog
RUN gcc adminDumb.c -o adminDumb

RUN chmod 777 adminServer
RUN chmod 777 adminwatchdog
RUN chmod 777 adminDumb

ENTRYPOINT ["tail", "-f", "/dev/null"]