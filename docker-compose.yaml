version: "3.1"

services:
  web:
    build:
      context: flaskServer

    stop_signal: SIGINT
    ports:
        - '1234:1234'
  db:
    image: postgres
    volumes:
      - ./SQLServer/DBDump.sql:/docker-entrypoint-initdb.d/db.sql
    environment:
      - POSTGRES_USER=COSU
      - POSTGRES_PASSWORD=COSULabs
      - POSTGRES_DB=db
  ssh:
    image: lscr.io/linuxserver/openssh-server:latest
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Etc/UTC
      - SUDO_ACCESS=true #optional
      - PASSWORD_ACCESS=true #optional
      - USER_PASSWORD=B0bBoY25876 #optional
      - USER_NAME=bob #optional
    ports:
      - 2222:2222
    restart: unless-stopped
  ftp:
    image: delfer/alpine-ftp-server
    ports:
      - 21:21
    environment:
      - USERS=one|1234 two|1234
    volumes:
      - ./one:/ftp/one
      - ./two:/ftp/two
  # ftpd_server:
  #   image: stilliard/pure-ftpd
  #   container_name: pure-ftpd
  #   ports:
  #     - "21:21"
  #     - "30000-30009:30000-30009"
  #   environment:
  #     PUBLICHOST: "localhost"
  #     FTP_USER_NAME: ol
  #     FTP_USER_PASS: mypass
  #     FTP_USER_HOME: /home/username
  #   restart: always
  # vsftpd:
  #   container_name: vsftpd
  #   image: wildscamp/vsftpd
  #   hostname: vsftpd
  #   ports:
  #     - "21:21"
  #     - "30000-30009:30000-30009"
  #   environment:
  #     PASV_ADDRESS: 192.168.99.100
  #     PASV_MIN_PORT: 30000
  #     PASV_MAX_PORT: 30009
  #     VSFTPD_USER_1: 'bob:bob1234::'
  #     VSFTPD_USER_2: 'alice:sexygurl::'
  #     VSFTPD_USER_3: 'olroc:gigemAgs!::'